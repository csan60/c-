# 作品提交文档：颐康智护，银龄无忧

## 1. 项目详情及使用方式

### 1.1 项目概述

"颐康智护，银龄无忧"是一款专为老年人健康管理设计的智能小程序系统，致力于通过现代化技术手段，为老年人提供全方位、智能化的健康监护与医疗服务。项目采用微信小程序作为前端载体，结合人工智能、云计算等先进技术，打造了一个集健康监测、智能评估、医疗咨询、健康干预于一体的综合性老年健康管理平台。

### 1.2 技术架构

**前端技术栈：**
- uni-app框架（Vue.js）
- 微信小程序原生API
- ColorUI组件库
- 微信运动API集成

**后端技术栈：**
- Spring Boot 2.2.2
- MyBatis Plus（数据持久化）
- Apache Shiro（安全框架）
- MySQL数据库

**第三方服务集成：**
- 阿里云OSS（云存储服务）
- DeepSeek AI（智能健康评估）
- 百度AI OCR（医疗文档识别）
- 腾讯地图API（位置服务）
- 微信开放平台（登录、步数等）

### 1.3 部署与安装

**后端部署：**

```bash
# 1. 配置数据库
# 创建MySQL数据库（版本：5.7+）
CREATE DATABASE project DEFAULT CHARACTER SET utf8mb4;

# 2. 修改配置文件
# 编辑 server_code/src/main/resources/application.yml
# 配置数据库连接信息、阿里云OSS、微信小程序等参数

# 3. 编译打包
cd server_code
mvn clean package -DskipTests

# 4. 运行服务
java -jar target/server_code-0.0.1-SNAPSHOT.jar

# 服务将在端口8080启动，访问路径：http://localhost:8080/project
```

**前端部署：**

```bash
# 1. 使用HBuilderX打开项目根目录

# 2. 修改配置
# 编辑 manifest.json 中的微信小程序appid

# 3. 运行到微信开发者工具
# HBuilderX -> 运行 -> 运行到小程序模拟器 -> 微信开发者工具

# 4. 发布
# 在微信开发者工具中进行上传和版本管理
```

### 1.4 使用说明

**老年人端使用流程：**

1. **注册登录**：首次使用需注册账号，可使用微信快捷登录
2. **完善信息**：填写个人健康档案，包括基础信息、既往病史等
3. **健康监测**：
   - 录入每日健康数据（血压、心率、血糖等）
   - 系统自动计算BMI、体脂率等派生指标
   - 查看健康数据趋势图表
4. **AI健康评估**：
   - 点击"健康评估"按钮
   - AI系统自动分析最新健康数据
   - 生成健康评分和风险评级
5. **智能干预方案**：
   - 基于评估结果获取个性化健康干预建议
   - 包含饮食、运动、用药、复查等多维度指导
6. **医疗文档识别**：
   - 拍摄或上传检查报告、病历等
   - OCR自动识别文档内容
   - AI解读报告并提供健康建议
7. **在线咨询**：预约心理咨询师，进行在线交流
8. **医生预约**：查看医生排班信息，进行预约挂号

**医护人员端使用流程：**

1. **患者管理**：查看和管理绑定的患者信息
2. **健康监控**：实时查看患者健康数据变化
3. **异常预警**：系统自动标记异常数据，及时干预
4. **就诊记录**：录入和查询患者就诊历史

## 2. 项目亮点

### 2.1 AI驱动的智能健康评估

- **DeepSeek大模型集成**：采用先进的DeepSeek AI模型，基于患者的多维度健康数据（血压、血糖、心率、BMI、运动量等12+项指标）进行综合分析
- **动态评分系统**：自动生成0-100分的健康评分，并划分为低危、中危、高危三个风险等级
- **个性化干预方案**：AI根据评估结果，从饮食、运动、用药提醒、定期复查四个维度生成具体可行的健康干预建议

### 2.2 OCR智能医疗文档识别

- **百度AI OCR集成**：支持拍照或上传各类医疗文档（检查报告、病历、处方等）
- **中英文混合识别**：准确识别医疗文档中的中英文混排内容
- **AI智能解读**：OCR识别后自动调用DeepSeek AI对报告内容进行解读，用通俗易懂的语言为老年人解释专业术语

### 2.3 微信运动数据集成

- **无感数据采集**：通过微信运动API自动获取用户每日步数
- **运动量评估**：将步数数据纳入健康评估体系，分析运动习惯
- **AES加密解密**：采用AES-128-CBC加密算法安全处理微信运动敏感数据

### 2.4 全方位健康数据管理

**12+项健康指标监测：**
- 基础指标：身高、体重、BMI
- 生命体征：心率、血压（收缩压/舒张压）、体温、血氧饱和度
- 代谢指标：血糖、血脂、体脂率
- 运动数据：步数、消耗卡路里

**可视化数据展示：**
- 多维度健康趋势折线图
- 自定义时间范围查询（7天、30天、自定义）
- 异常数据自动标红预警

### 2.5 云端存储与文件管理

- **阿里云OSS集成**：所有图片、文档上传至阿里云OSS，确保数据安全和访问速度
- **支持大文件上传**：单文件最大支持300MB
- **CDN加速**：通过阿里云CDN实现全国范围快速访问

### 2.6 位置服务与地理围栏

- **腾讯地图集成**：提供精准的地理位置服务
- **地址解析（逆地理编码）**：将经纬度坐标转换为详细地址信息
- **位置上报**：子女可实时了解老人位置，确保安全

### 2.7 实时消息与语音交互

- **在线聊天系统**：支持患者与医生、咨询师进行实时文字交流
- **语音识别**：集成讯飞语音识别，方便不善打字的老年人使用
- **消息推送**：重要健康提醒和预约通知及时推送

## 3. 小程序使用情况概述

### 3.1 功能模块

**核心功能模块：**

1. **健康档案管理**
   - 个人基础信息录入
   - 既往病史管理
   - 紧急联系人设置
   - 用药记录管理

2. **健康数据监测**
   - 每日健康数据录入
   - 历史数据查询
   - 数据趋势可视化
   - 异常数据预警

3. **AI智能评估**
   - 一键生成健康评估报告
   - 多维度健康评分
   - 风险等级判定
   - 评估历史记录

4. **智能干预方案**
   - 个性化饮食建议
   - 运动计划制定
   - 用药提醒设置
   - 复查时间规划

5. **医疗服务**
   - 在线问诊
   - 医生预约挂号
   - 就诊记录查询
   - 检查报告管理

6. **心理健康**
   - 心理健康资讯浏览
   - 心理咨询师预约
   - 在线心理咨询
   - 心理测评

7. **微信运动集成**
   - 自动同步每日步数
   - 运动量统计分析
   - 运动目标设定
   - 卡路里计算

8. **OCR文档识别**
   - 拍照上传检查报告
   - 自动识别文本内容
   - AI解读报告结果
   - 报告存档管理

### 3.2 用户体验设计

- **适老化设计**：采用大字体、高对比度配色方案，方便老年人阅读
- **操作简化**：界面简洁直观，减少操作步骤，降低学习成本
- **语音辅助**：关键功能支持语音输入，减轻打字负担
- **智能提醒**：通过微信消息推送及时提醒用药、复查等重要事项

### 3.3 安全与隐私保护

- **数据加密**：敏感数据传输采用HTTPS加密
- **权限控制**：基于Apache Shiro实现细粒度权限管理
- **隐私保护**：严格遵守《个人信息保护法》，用户数据仅用于健康服务
- **数据备份**：定期自动备份，防止数据丢失

## 4. 关键技术详解

### 4.1 Spring Boot微服务架构

**项目结构：**
```
server_code/
├── src/main/java/com/cl/
│   ├── controller/     # 控制器层（RESTful API）
│   ├── service/        # 业务逻辑层
│   ├── dao/            # 数据访问层
│   ├── entity/         # 实体类
│   ├── dto/            # 数据传输对象
│   ├── config/         # 配置类
│   ├── utils/          # 工具类
│   ├── interceptor/    # 拦截器
│   └── handler/        # 全局异常处理
└── src/main/resources/
    ├── mapper/         # MyBatis XML映射文件
    ├── application.yml # 主配置文件
    └── application.properties
```

**核心技术点：**
- RESTful API设计，前后端分离
- MyBatis Plus代码生成，提高开发效率
- 统一返回结果封装（R类）
- 全局异常处理机制
- Token鉴权机制

### 4.2 DeepSeek AI集成

**技术实现：**
```java
// DeepSeekController.java 核心代码片段
@GetMapping("/assessment/{huanzheId}")
public Map<String, Object> generateTodayAssessment(@PathVariable("huanzheId") Long huanzheId) {
    // 1. 获取患者最新健康记录
    HealthRecord latestRecord = healthService.getLatestByHuanzheId(huanzheId);
    
    // 2. 调用DeepSeek AI生成健康评估
    Map<String, Object> assessmentData = deepSeekAIService.generateHealthAssessment(latestRecord);
    
    // 3. 返回评估结果（包含评分、风险等级、建议）
    return result;
}
```

**AI能力：**
- 健康数据多维度分析
- 风险预测与预警
- 自然语言生成健康建议
- 持续学习与优化

### 4.3 百度AI OCR医疗文档识别

**技术实现：**
```java
// AiOcrController.java 核心代码片段
@PostMapping("/upload")
public R uploadAndProcess(@RequestParam("file") MultipartFile file) {
    // 1. 读取图片文件
    byte[] imageBytes = file.getBytes();
    
    // 2. 调用百度OCR API识别
    HashMap<String, String> options = new HashMap<>();
    options.put("language_type", "CHN_ENG");
    JSONObject ocrRes = client.basicGeneral(imageBytes, options);
    
    // 3. 提取识别文本
    String extractedText = parseOcrResult(ocrRes);
    
    // 4. 调用AI解读文本
    String aiReply = callDeepSeekAI(extractedText);
    
    return R.ok().put("extractedText", extractedText).put("aiReply", aiReply);
}
```

**识别能力：**
- 支持多种医疗文档格式
- 中英文混合识别准确率95%+
- 自动纠偏与图像增强
- 批量识别支持

### 4.4 微信运动数据集成

**技术实现：**
```java
// WeRunController.java 核心代码片段
@PostMapping("/decryptWeRun")
public Map<String, Object> decryptWeRun(@RequestBody WeRunReq req) {
    // 1. 用code换取session_key
    String sessionKey = getSessionKey(req.code);
    
    // 2. AES-128-CBC解密微信运动数据
    String json = decrypt(sessionKey, req.iv, req.encryptedData);
    
    // 3. 解析步数数据
    JSONNode stepInfoList = parseJson(json).get("stepInfoList");
    int todayStep = stepInfoList.last().get("step").asInt();
    
    return ok().put("todayStep", todayStep);
}
```

**技术要点：**
- 微信小程序授权流程
- AES-128-CBC加密算法
- Base64编解码
- Session key管理

### 4.5 阿里云OSS云存储

**配置示例：**
```yaml
# application.yml
aliyun:
  oss:
    endpoint: https://oss-cn-beijing.aliyuncs.com
    accessKeyId: YOUR_ACCESS_KEY_ID
    accessKeySecret: YOUR_ACCESS_KEY_SECRET
    bucketName: wechatoldpeople
    domain: https://wechatoldpeople.oss-cn-beijing.aliyuncs.com
```

**功能特性：**
- 图片/文档自动上传
- 支持断点续传
- CDN加速访问
- 访问权限控制
- 自动缩略图生成

### 4.6 健康数据可视化

**前端实现（uni-app + echarts）：**
```javascript
// 健康趋势图配置
chartOption: {
  xAxis: { type: 'category', data: dates },
  yAxis: { type: 'value' },
  series: [{
    name: '血压',
    type: 'line',
    data: bloodPressureData,
    smooth: true
  }, {
    name: '心率',
    type: 'line',
    data: heartRateData,
    smooth: true
  }]
}
```

**可视化能力：**
- 多指标折线图
- 时间范围自定义
- 异常值标注
- 数据导出功能

### 4.7 位置服务与地理编码

**技术实现：**
```java
// LocationController.java
@PostMapping("/report")
public R reportLocation(@RequestBody LocationReport report) {
    // 1. 保存经纬度
    saveLocation(report);
    
    // 2. 调用腾讯地图API逆地理编码
    String address = geocodeService.reverseGeocode(report.getLat(), report.getLng());
    
    // 3. 返回详细地址
    return R.ok().put("address", address);
}
```

**应用场景：**
- 老人位置实时上报
- 医院/药店地址查询
- 紧急情况快速定位
- 活动轨迹记录

### 4.8 实时通讯系统

**技术方案：**
- WebSocket长连接（实时消息推送）
- RESTful API（历史消息查询）
- 讯飞语音识别（语音转文字）
- 消息队列（异步处理）

**数据库设计：**
```sql
-- 聊天消息表
CREATE TABLE chat_message (
    id BIGINT PRIMARY KEY,
    sender_id BIGINT COMMENT '发送者ID',
    receiver_id BIGINT COMMENT '接收者ID',
    content TEXT COMMENT '消息内容',
    msg_type VARCHAR(20) COMMENT '消息类型：text/image/voice',
    created_at TIMESTAMP COMMENT '发送时间',
    is_read TINYINT COMMENT '是否已读'
);
```

## 5. 项目相关图片/照片

项目静态资源目录中已准备了一组用于作品展示的界面截图和说明素材，可直接用于撰写申报材料、制作PPT或在评审系统中上传。核心图片存放于 `static/` 目录下，以下列出具有代表性的样例（均为仓库相对路径）：

| 序号 | 图片路径 | 场景说明 |
| ---- | -------- | -------- |
| 1 | `static/login/logo.png` | 登录页品牌 Logo，呈现项目的视觉识别体系 |
| 2 | `static/login/captcha.jpg` | 登录验证码背景图，可用于展示安全验证流程 |
| 3 | `static/index/face.png` | 小程序首页轮播位配图，体现健康关怀主题 |
| 4 | `static/center/face.jpeg` | 个人中心头像示例，展示用户信息界面风格 |
| 5 | `static/tabs/index1.png` | 底部功能导航图标，呈现适老化的UI设计 |
| 6 | `static/pay-confirm/weixin.png` | 微信支付方式示意图，说明支付与费用功能 |

如需更多演示素材，可参考以下目录：
- `static/tabs/`：底部导航与功能入口图标集合
- `static/center/`：个人中心与服务入口相关图片
- `server_code/src/main/resources/manage/img/`：后台管理端头像、配图素材
- `server_code/src/main/resources/client/h5/static/`：H5 端宣传位、天气与播放器图标

在制作展示材料时，建议按需选取上述图片并配合实际页面截图，突出"颐康智护，银龄无忧"小程序的健康关怀理念、适老化设计以及完整的业务闭环。

## 6. 项目发表与获奖情况

本项目"颐康智护，银龄无忧"为原创作品，首次参赛提交，暂无发表或获奖记录。

**开发背景：**
项目开发初衷源于对老龄化社会问题的关注。随着我国人口老龄化程度不断加深，老年人健康管理成为社会关注的焦点。传统的医疗服务模式难以满足老年人个性化、便捷化的健康管理需求。因此，团队决定开发一款结合人工智能、大数据、移动互联网技术的智能健康管理小程序，助力老年人享受更优质的健康服务。

**开发周期：**
- 需求调研：2周
- 系统设计：2周
- 功能开发：8周
- 测试优化：2周
- 总计：约3个月

**团队组成：**
- 后端开发：2人
- 前端开发：1人
- UI设计：1人
- 产品经理：1人

## 7. 项目优化说明

本项目并非基于其他项目优化而来，而是从零开始全新开发的原创系统。

**设计理念创新点：**

1. **以用户为中心**：充分考虑老年人的使用习惯和身体特点，采用适老化设计
2. **AI赋能**：不同于传统健康管理软件，深度集成DeepSeek AI大模型，实现智能评估和建议
3. **数据闭环**：从数据采集、分析、评估、干预到效果跟踪，形成完整的健康管理闭环
4. **多方协同**：连接患者、医生、家属，构建健康管理生态系统

**与同类产品对比优势：**

| 特性 | 本项目 | 同类产品A | 同类产品B |
|------|--------|-----------|-----------|
| AI健康评估 | ✅ DeepSeek大模型 | ❌ | ⚠️ 规则引擎 |
| OCR文档识别 | ✅ 百度OCR+AI解读 | ⚠️ 仅OCR | ❌ |
| 微信运动集成 | ✅ 自动同步 | ❌ | ❌ |
| 个性化干预方案 | ✅ AI生成 | ⚠️ 模板化 | ⚠️ 模板化 |
| 实时通讯 | ✅ 文字+语音 | ✅ 仅文字 | ❌ |
| 云存储 | ✅ 阿里云OSS | ⚠️ 本地存储 | ✅ |
| 适老化设计 | ✅ 深度优化 | ⚠️ 部分支持 | ❌ |

**未来规划：**

1. **功能扩展**
   - 增加智能硬件对接（智能手表、血压计等）
   - 开发家属端APP，实现远程监护
   - 引入更多AI模型，提升分析准确度
   - 增加社交功能，老年人互动交流

2. **性能优化**
   - 引入Redis缓存，提升响应速度
   - 数据库读写分离，支持更大并发
   - 消息队列异步处理，优化用户体验

3. **商业化探索**
   - 与医疗机构合作，打通线上线下服务
   - 与保险公司合作，推出健康保险产品
   - 与养老机构合作，提供机构管理解决方案

---

## 附录：技术文档索引

**代码仓库结构：**
```
project/
├── server_code/              # 后端代码
│   ├── src/main/java/        # Java源码
│   ├── src/main/resources/   # 配置文件和静态资源
│   └── pom.xml               # Maven依赖配置
├── pages/                    # 小程序页面
├── components/               # 公共组件
├── static/                   # 静态资源
├── utils/                    # 工具类
├── api/                      # API接口定义
├── App.vue                   # 应用入口
├── main.js                   # 主入口文件
├── pages.json                # 页面配置
├── manifest.json             # 应用配置
└── uni.scss                  # 全局样式
```

**API接口文档：**
- 健康记录API：`/health/*`
- AI评估API：`/deepseek/*`
- OCR识别API：`/api/ai/*`
- 微信运动API：`/wx/*`
- 用户管理API：`/users/*`、`/huanzhe/*`、`/yisheng/*`
- 医疗服务API：`/yishengjiuzhen/*`、`/jianchabaogao/*`
- 位置服务API：`/location/*`

**数据库表设计：**
主要数据表包括：
- `users`：管理员表
- `huanzhe`：患者表
- `yisheng`：医生表
- `health_record`：健康记录表
- `intervention_execution`：干预执行记录表
- `chat_message`：聊天消息表
- `yishengjiuzhen`：就诊记录表
- `jianchabaogao`：检查报告表
- `storeup`：收藏表
- `config`：系统配置表

**部署环境要求：**
- 操作系统：Linux/Windows Server
- Java版本：JDK 1.8+
- 数据库：MySQL 5.7+
- 内存：最低2GB，推荐4GB+
- 存储：最低10GB，推荐50GB+

**联系方式：**
如有技术问题或合作意向，欢迎联系项目团队。

---

**文档版本：** v1.0  
**最后更新：** 2025年6月  
**项目名称：** 颐康智护，银龄无忧  
**技术栈：** Spring Boot + uni-app + MySQL + DeepSeek AI + 阿里云OSS
